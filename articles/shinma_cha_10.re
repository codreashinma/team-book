== 第10章　円環のプロトコル

//hr

　知らない番号から、電話が鳴った。

　朝八時。ねづ珈琲に向かう路地で、蓮のスマートフォンが震えた。市外局番〇七五。京都だ。

「藤崎さんですか。錦市場で青果店をやっている高橋と申します。ジェイコイン・ラボさんのブログ記事、読みました」

　蓮は足を止めた。

　一週間前に公開された開発者事例のブログ記事。「商店街から始まるステーブルコイン決済」——蓮のQRコード決済アプリと、ねづ珈琲での導入事例を紹介する記事だった。丘部がミートアップの夜に約束した、あの記事。

「——うちの市場にも導入できるか、ご相談したくて」

　パイロット導入から、三ヶ月が経っていた。

//hr

　ねづ珈琲のドアを押すと、根津がカウンターの中でタブレットの画面を拭いていた。三ヶ月前、QRコードを睨みつけていた太い指が、今では開店準備の一工程としてガラス面を磨いている。

「おう、蓮。また電話してたな」

「京都の錦市場からです。青果店の方が、ブログを読んで」

　根津の手が止まった。

「京都？」

「先週は名古屋。その前が福岡。全部、商店街からです」

「——俺んとこがモデルケースってわけか」

「そういうことです」

　根津はふんと鼻を鳴らした。しかし口元が緩んでいるのを蓮は見逃さなかった。

　タブレットの画面には昨日の売上が表示されている。J-Coin決済：十四件。現金：二十件。三ヶ月前の初日は、J-Coin決済七件に現金三十件。比率が動いている。数字は嘘をつかない。

　蓮はコーヒーを受け取り、窓の外に目を向けた。

　ねづ珈琲の斜め向かいの和菓子屋「満月堂」。ガラス戸に小さなステッカーが貼られている。「J-Coin決済対応」。その隣の豆腐屋にも。八百屋にも。花屋にも。煎餅屋、古書店、文房具店——。

　八店舗。根津商店街の三分の一が、蓮のアプリでJ-Coin決済を受け付けている。

　三ヶ月間の累計トランザクション、四万二千件。エラー率〇・〇三%。ガス代の累計は千七百円。同じ決済をクレジットカードで処理した場合の手数料は——六十八万円だった。

　六十八万円が、千七百円になった。差額はすべて、八つの店のレジに残っている。

//hr

　しかし、数字だけでは見えない問題もあった。

「蓮。ひとつ聞いていいか」

　根津の声が低くなった。蓮はカップをソーサーに置いた。

「常連の中村さんに言われた。『ブロックチェーンは取引が全部見えるんでしょう。自分がどこで何を買ったか、他の店にバレるのは嫌だ』って」

　蓮は息を吸った。

　中村さんの懸念は正しい。Polygonのブロックチェーンは公開台帳だ。ウォレットアドレスさえ分かれば取引履歴を辿れる。この人がねづ珈琲で五百円、満月堂で三百円、花屋で千円。アドレスに名前は紐づいていないが、一度でも本人確認済みのサービスとウォレットが接続されれば、理論上は個人の購買行動を再構成できる。

　ブロックチェーンの透明性は信頼の源泉であると同時に、プライバシーの脅威でもある。

「根津さん。正直に言います。今のアプリでは、完全には防げません」

　根津は腕を組んだ。

「じゃあ、どうすんだ」

「調べます。解決策があるはずです」

　嘘はついていない。答えはまだ知らない。でも、答えを見つけられることは知っていた。半年前も同じだった。何も知らない状態から始めて、ここまで来た。

//hr

　その夜、蓮はDiscordで霧島に相談した。

//emlist{
蓮：取引のプライバシーを保護する方法はありますか。
　　ブロックチェーンの透明性が、ユーザーの懸念材料になっています。
//}

　返信まで十五分かかった。霧島の返事がこんなに遅いのは初めてだった。そして返ってきたのは、一行のテキストと三本の論文リンクだった。

//emlist{
kirishi_ma：ゼロ知識証明。調べろ。
//}

　いつもの丁寧な解説がない。代わりに「調べろ」。霧島にとって、この技術はDiscordの短いメッセージで語れるものではないということだ。それ自体が、この技術の重みを物語っている。

　蓮はリンクを開いた。

　ゼロ知識証明——Zero-Knowledge Proof。一本目の論文は一九八五年。四十五年前だ。ブロックチェーンどころかインターネットすら普及していない時代に、三人の数学者が提唱した概念。

　原理は、直感に反していた。

「ある事実を、その事実の中身を明かさずに証明する」

　意味が分からなかった。事実を証明するのに、中身を明かさない？　矛盾していないか。

　しかし霧島が追加で送ってきた一行で、蓮の頭の中に光が走った。

//emlist{
kirishi_ma：パスワードを知っていることを証明するのに、
　　　　　 パスワード自体を見せる必要はない。
　　　　　 ログインできること自体が、証明だ。
//}

　蓮の指が止まった。

　ゼロ知識証明を決済に応用すれば——「この人は十分な残高を持っていて、正当な送金を行った」という事実を、金額も送金先も明かさずにブロックチェーン上で証明できる。検証者は「この取引は正しい」とだけ分かる。いくら、誰に、何のために——は見えない。

　透明性と、プライバシーの両立。

　蓮はGitHubでゼロ知識証明のライブラリを検索した。Circom。snarkjs。Noir。見たことのない構文が並ぶ。半年前、ERC-20のSolidityコードを初めて開いたときと同じ感覚だった。一行目がまるで読めない。

　蓮は笑った。

　また、ここからだ。あの夜と同じ場所に立っている。わからないことがわからない。でも、わからないことが面白い。半年前の蓮はここから走り出して、ねづ珈琲のカウンターまで辿り着いた。

　次は、どこまで行けるだろう。

//hr

　三日後。東京ビッグサイト。「日本デジタル通貨サミット 2030」。

　参加者三千人。蓮は聴衆として、前方の端の席に座っていた。

　午前のキーノートで、日本銀行のデジタル通貨担当理事がマイクを握った。

「本年度より、デジタル円のパイロットプログラムを正式に開始いたします」

　会場がどよめいた。CBDC——中央銀行デジタル通貨。日本銀行が自ら発行するデジタルな円。何年も議論されてきた構想が、ついに実証段階に入る。

　蓮の胸に、冷たいものが走った。

　日銀がデジタル円を出す。日本円の発行者そのものが、デジタル通貨を作る。J-Coinは「民間が発行する日本円建てステーブルコイン」だ。本家が参入したら——J-Coinの存在意義はどうなる。

　午後の部。丘部典孝が壇上に立った。

　スーツではなく、紺色のポロシャツ。三千人を前にして、丘部は笑っていた。

「午前の日銀さんの発表、歴史的な一歩ですね。素晴らしい」

　会場にさざ波のような笑いが起きた。

「よく聞かれるんです。『デジタル円が出たら、J-Coinは要らなくなるでしょう？』と」

　蓮の背筋が伸びた。まさに、自分の疑問だ。

「答えはノーです。理由はシンプルです」

　スクリーンに一枚のスライドが映った。二つの円。大きな円に「デジタル円（CBDC）」、小さな円に「J-Coin」。一部が重なっている。

「デジタル円は、日本銀行が発行する法定通貨のデジタル版です。信頼性は最高。流通基盤としての力は圧倒的です。しかし——中央銀行は、SDKを配りません」

　会場が静まった。

「中央銀行はインフラを運営します。しかしその上のアプリケーションは作りません。QRコード決済も、クロスボーダー送金も、条件付き自動決済も。それは民間の役割です。J-Coinはプログラマブルなお金です。スマートコントラクトで条件を記述できる。APIでシステムに組み込める。開発者が、自由にプロダクトを作れる」

　丘部はマイクを持ち替えた。

「高速道路と車の関係です。デジタル円は高速道路。J-Coinは車。高速道路が整備されれば、車はもっと速く、もっと遠くへ走れる。競合ではなく——共存です」

　蓮は、ようやく呼吸を思い出した。

「最後に一つだけ。エコシステムの力について」

　スクリーンに写真が映った。ねづ珈琲のカウンター。根津がグラスを拭いている後ろ姿。蓮がミートアップで使ったのと同じ写真だ。

　心臓が跳ねた。

「東京の下町の商店街で、一人のフリーランスエンジニアがJ-CoinのSDKを使ってQRコード決済アプリを作りました。導入三ヶ月で八店舗に展開。手数料は従来の四百分の一。決済時間は三秒」

　丘部が一拍置いた。三千人がスクリーンを見つめている。

「このアプリの画面に、ブロックチェーンという単語は一度も表示されません」

　蓮は椅子の上で身を縮めた。

「僕たちはレールを敷く会社です。しかしレールの上を走ってくれる人がいなければ、レールは錆びるだけだ。このエンジニアが教えてくれたのは、ネットワーク効果の本質です。一人の開発者が一つのアプリを作る。一人の店主が導入する。隣の店主がそれを見る。そのまた隣も。プロトコルは伝播する。エコシステムは——いつも一人から始まります」

　拍手が起きた。蓮は拍手をすることも忘れて、壇上の丘部を見つめていた。

//hr

　ロビーに出ると、スマートフォンが震えた。美華だった。

//emlist{
蓮くん、ベータ版リリースしたよ
//}

　一行のテキストの下にスクリーンショットが添付されていた。美華のクロスボーダー送金アプリ。三ヶ月前にねづ珈琲のカウンターで見せてもらったデモとは、画面がまるで違う。

　大きなフォントで「台北へ送金」。金額入力欄は一つだけ。手数料は自動表示。ウォレット接続はメールアドレスとパスワード——秘密鍵もシードフレーズも、画面のどこにもない。Account Abstractionが実装されている。七十一歳の母親の指を想定した、潔いUIだった。

//emlist{
台湾の規制クリアランスはまだ。
日本国内のJ-Coin間送金として先行リリース。
在日台湾人コミュニティ向け。
台湾側のライセンスは、丘部さんと同じ。待ってる。
//}

　蓮は返信した。

//emlist{
おめでとう。ねづ珈琲で祝杯のコーヒー奢るよ。
//}

//emlist{
コーヒーより美味いものがいいな
//}

　蓮は笑った。この冗談は、もはやエコシステムの合言葉だ。

//hr

　その夜。閉店後のねづ珈琲。

　蓮はカウンターの端で、ゼロ知識証明の技術記事を読んでいた。根津が閉店作業をしている。モップが床を擦る音。椅子を裏返す音。蛇口の水音。半年間、蓮はこの音をBGMにしてコードを書いてきた。

「また新しいこと始めたのか」

　根津がカウンターの内側から蓮の画面を覗いた。

「次のアップデートの研究です。中村さんが心配していた、取引のプライバシーを守る仕組み」

「客の声から次を考えるのか」根津はカウンターを拭きながら言った。「商売の基本だな」

　蓮は根津を見た。半年前、「暗号資産なんぞ御免だ」と一蹴した男が、蓮のやり方を「商売の基本」と呼んでいる。

　スマートフォンが光った。Discordの通知。

//emlist{
@all はじめまして。札幌でWeb制作をしているフリーランスです。
J-CoinのSDKでキャッシュレス決済アプリを作りたいと思っています。
Getting Startedを読んでいるのですが、ethers.jsのdecimalsの
変換でつまずいています。どなたか教えていただけませんか。
//}

　蓮の手が止まった。

　半年前の自分が、そこにいた。

　SDKのGetting Startedを開き、decimalsの変換に戸惑い、Discordに恐る恐る質問を投稿した夜。kirishi_maのアイコンが光って、丁寧な回答が返ってきた夜。あの一つの返信がなかったら、蓮はここにいない。ねづ珈琲のタブレットもない。八店舗の緑のチェックマークもない。京都からの電話もない。すべてが——あの一行から始まった。

　蓮は返信を打ち始めた。

//emlist{
はじめまして。東京でQRコード決済アプリを作っている藤崎です。
decimalsの件、自分も最初につまずきました。

J-Coinはdecimalsが18なので、ユーザーが入力した金額を
内部表現に変換する必要があります。
ethers.jsならparseUnitsを使うとシンプルに書けます。

const amount = ethers.parseUnits("500", 18);

「500円」がコントラクトの理解できる値に変わります。
逆にフォーマットするときはformatUnitsです。
最初は混乱しますが、すぐ慣れます。

何かあればいつでも聞いてください。
//}

　送信した。

「何やってんだ」根津が蓮の背中を見ていた。

「……後輩に、教わったことを教えてます」

　根津は何も言わなかった。端の欠けたマグカップにコーヒーを注ぎ、蓮の前に置いた。閉店後に根津が自分のために淹れるコーヒーを、蓮にも一杯。半年のあいだに、それがいつの間にか当たり前になっていた。

　蓮はDiscordの画面を見つめた。

　札幌のエンジニアは、何を作るのだろう。蓮と同じQRコード決済かもしれない。まったく違うものかもしれない。その人もきっと壁にぶつかり、誰かに助けられ、やがて自分の知識を次の誰かに渡すだろう。

　お金は循環する。コードも循環する。教わったことが次の誰かに伝わり、そこからまた新しいものが生まれる。SDK、API、ドキュメント、Discord、ミートアップ——すべてが、巡り続けるプロトコルだ。

　丘部がレールを敷いた。霧島がSDKを磨いた。白石が法の盾を整えた。蓮がアプリを作った。根津が最初の客を迎えた。美華が海を越えようとしている。そして今、札幌の誰かが最初のコードを書こうとしている。

　円環のプロトコル。

　始まりはいつも、誰かの一行目だ。

　ねづ珈琲の窓の外、根津商店街の夜が静かに更けていく。八つの店舗に八つのタブレットが眠り、明日の朝またQRコードが表示され、緑のチェックマークが灯るのを待っている。

　蓮はコーヒーを一口飲んだ。

　根津の、一番いいやつだった。
